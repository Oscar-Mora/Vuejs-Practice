<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>practica vue</title>
    
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
  <div id="app">
  </div>

<script >

  

  const app = Vue.createApp({
    data(){
      return{
       
        objectArray:[
          {nombre: 'mango ', cantidad: 100, descripcion:'soy un mango Roja'},
          {nombre: 'fresa ', cantidad: 200, descripcion:'soy una fresa Verde'},
          {nombre: 'sandia', cantidad: 300, descripcion:'soy una sandia Amarilla'},
          {nombre: 'piña  ', cantidad: 400, descripcion:'soy una piña Naranja'}
        ], 
        nuevaFruta:"",
        cantidadNuevaFruta:'',
        total:0
      }
    },
    methods:{
      agregarFruta(){
        //para agregar algo auna variable contenedora, siempre hacer this. para traer su instancia
        this.objectArray.push({ 
            nombre:this.nuevaFruta,
            cantidad:this.cantidadNuevaFruta,
            descripcion:'sí soy fruta'
          })
          //ES MUY IMPORTANTE QUE CUANDO RECIBA VALORES, REINICIE LOS INPUTS, COMO LIMPIAR LA INFO
        this.nuevaFruta='';
        this.cantidadNuevaFruta='';

      }
    },
    computed:{
      sumarFrutas(){
        //accedemos con "this." a las variables que usaremos dentro de la computed function
        this.total = 0;
        for (fruta of this.objectArray){
          this.total = this.total+ fruta.cantidad;
        }
        return this.total;// aqui se está devolviendo la suma de lo que hay en cada fruta en cantidad a la var total
      }
    },
    template:`
      
      
      <h3> V-model </h3>
      <p>Permite hacer conexiones directas entre el input de un html a la lógica de programación</p>
      <p>Podríamos crear una nueva variable en data() y asignarle un string vacío</p>
      <p>Después dentro del tag input del html como atributo asignamos el v-model="nombre de la variable que se creó en data"</p>
      <p>para que pueda guardar el valor, de otro modo es con @keyup.enter="agregarFrutas" que llama a la funcion despues de teclear enter</p>
      <br>
      <label>nombre de la fruta: </label>

      <input v-model="nuevaFruta" @keyup.enter="agregarFruta"/>
      
      <label>cantidad de la Fruta: </label>

      <input v-model="cantidadNuevaFruta" @keyup.enter="agregarFruta"/>
      
      <button type="submit" @click="agregarFruta">Agregar</button>
        
      <li v-for="obj in objectArray"> 

<!-- Aquí estamos haciendo uso de un input para manipular la data de cada registro en un input -->
          <input type="number" v-model.number="obj.cantidad" >

<!-- En la siguiente linea podemos visualizar que hay un botón que modifica la cantidad del registro para cada registro en + 1-->
          <b>Nombre:</b> {{ obj.nombre}}<b>   Cantidad:</b> {{obj.cantidad}} <button @click="obj.cantidad = obj.cantidad +1"> + </button> <b>Descripcion:</b> {{obj.descripcion}}
          <b v-if="obj.cantidad == 0 "> ---- Sin cantidad en Stock</b>
          </li>
          </ul>
          <h1>Total: {{sumarFrutas}}</h1>
   
    `
    });
    
    const vm = app.mount('#app');

</script>
<style>
  html,body{
    height:100%;
    width: 100%;
    margin: 0;
    font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
  }
  #app #container{
    display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        width: 100%;
        height: 100%;
  }
  li{
    list-style-type:  none;
  }
  button {
        margin: 24px;
        border: solid darkslategrey;
        background-color: white;
        padding: 8px 24px;
        border-radius: 12px;
    }
  input {
      margin: 24px;
      border: solid 3px rgb(59, 68, 68);
      background-color: white;
      padding: 8px 24px;
      border-radius: 3px;
      
  }
  .closed{
    background-color: rgb(212, 119, 98);
  }
  /**DE ÉSTA FORMA, JSON DIRECTO EN LA TAG, valida si open es true o false para asignar el valor a la class
  -->>:class="{'opened':open,'closed':!open}" */
  .opened{
    background-color:rgb(98, 212, 98) ;
  }
  .list{
    display: flex;
    flex-direction: column;
    font-weight: 10px;
    font-size: 1rem;
  }
  .item{
    padding-left: 2em;
    padding-right: 2em;
    padding-top: 0;
    padding-bottom: 0;

    border: 1px solid black;
  }
  .title{
    font-weight: 10px;
    font-size: 1rem;
  }
</style>
</body>
</html>