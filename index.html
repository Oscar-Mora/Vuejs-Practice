<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>practica vue</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
  <div id="app"> </div>
<script >
  const app = Vue.createApp({
    data(){
      return{
        items:[
          "uno",
          "dos",
          "tres"
        ],
            }
    },methods:{
      // ESTE METODO SOLO ES PARA TENER UNA ACCION DESDE EL COMPONENTE PADRE
      // VER 
      remove(i){
        //siempre ir validando paso a paso cualquier cosa que haga MUY IMPORTANTE
        console.log(i);
        //la siguiente funcion retorna todos los elementos menos el elegido, la logica está a la inversa
        const items = this.items.filter((el, index)=>index !== i ); //Filter Docs-->https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter
        //cuando no RE-renderiza hay que volver a asignar a una variable que ya tengamos renderizando o a la misma variable con la que estámos trabajando y podamos testearla en front
        this.items=items
      }
    },
    template://html
    `<!--Aqui veremos como la COMUNICACION DE HIJOS A PADRES
      es a traves de methods-->
      <ul>
        <!-- Cuando solo sean strings podemos hacer una sola tag por componente--Asigno un key para trabajar con la data en el array, se hará un metodo para borrar el elemento elegido-Genero un metodo para eliminar el elemento-->
        <v-item  v-for="(item, i ) in items" :key="i" 
        @remove="remove(i)":numbs="item" >
        <!--Con custome methods podemos hacer la emision de eventos, ver linea 52-53 y 60 de éste archivo, que muestra la declaracion de funcion e instancia desde el componente hijo para ser escuchada en el C padre, el cual recibe y procesa los datos-->
        <!--El uso de la funcion remove, solo en el padre es mediante => click="remove(i)" se puede visualizar copiando en fragmento anterior en linea 40  /> -->
      </ul>
    `,  
    });
    app.component('v-item',{
      props:{
        numbs:String
      },
      methods:{
        rm(){
          this.$emit("remove")
          //para emitir evento s al C.Padre tenemos que mandarlo con this.$emit()
          //voy a poder enviar el nombre del evento y el valor que quiero emitir, en este caso solo quiero emitir el evento
        }
      },
      template://html
      `<li @click="rm"> <!--No importa si cambio el nombre del evento-->
        {{numbs}}
       </li>
      `
    });
    const vm = app.mount('#app');
</script>
</body>
</html>